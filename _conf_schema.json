{
    "enabled": {
        "description": "总开关",
        "type": "bool",
        "hint": "GPT-SoVITS 插件总开关，请在部署好 GPT-SoVITS 后再打开此开关",
        "default": false
    },
    "auto": {
        "description": "主动调用配置",
        "type": "object",
        "hint": "本插件有一定概率主动将bot本来要发送的文本转成语音发送",
        "items": {
            "only_llm_result": {
                "description": "只处理LLM结果",
                "type": "bool",
                "hint": "只处理 LLM 返回的消息。建议打开",
                "default": true
            },
            "tts_prob": {
                "description": "主动转语音发送的概率",
                "type": "float",
                "hint": "",
                "default": 0.15
            },
            "max_llm_len": {
                "description": "文本长度限制",
                "type": "int",
                "hint": "超过此长度的文本不会被转成语音发送",
                "default": 50
            }
        }
    },
    "base_url": {
        "description": "GPT-SoVITS API 的 URL",
        "type": "string",
        "hint": "必填！GPT_SoVITS官方整合包默认为http://127.0.0.1:9880，第三方整合包可能不同",
        "default": "http://127.0.0.1:9880"
    },
    "model": {
        "description": "模型配置",
        "type": "object",
        "hint": "",
        "items": {
            "gpt_weights_path": {
                "description": "GPT模型文件路径",
                "type": "string",
                "hint": "即“.ckpt”后缀的文件。支持绝对路径和相对路径，拼接时请使用“/”, 不填则默认用GPT_SoVITS内置的GPT模型",
                "default": ""
            },
            "sovits_weights_path": {
                "description": "SoVITS模型文件路径",
                "type": "string",
                "hint": "即“.pth”后缀的文件。支持绝对路径和相对路径，拼接时请使用“/”, 不填则默认用GPT_SoVITS内置的SoVITS模型",
                "default": ""
            }
        }
    },
    "default_params": {
        "description": "TTS默认参数",
        "type": "object",
        "hint": "",
        "items": {
            "text": {
                "description": "TTS文本",
                "type": "string",
                "hint": "即要转换为语音的文本",
                "default": "这是一段测试文本，阿巴阿巴"
            },
            "ref_audio_path": {
                "description": "参考音频文件路径",
                "type": "string",
                "hint": "支持绝对路径和相对路径，拼接时请使用“/”",
                "default": "data/plugins/astrbot_plugin_GPT_SoVITS/default_audio/就算是这样，也不至于直接碎掉啊，除非.wav"
            },
            "prompt_text": {
                "description": "参考音频文本",
                "type": "string",
                "hint": "即参考音频中讲的是什么",
                "default": "就算是这样，也不至于直接碎掉啊，除非"
            },
            "text_lang": {
                "description": "参考音频文本的语种",
                "type": "string",
                "hint": "默认为中文",
                "default": "zh"
            },
            "aux_ref_audio_paths": {
                "description": "辅助参考音频文件路径列表",
                "type": "string",
                "hint": "不填也行",
                "default": ""
            },
            "top_k": {
                "description": "生成语音的多样性",
                "type": "int",
                "hint": "",
                "default": 5
            },
            "top_p": {
                "description": "核采样的阈值",
                "type": "float",
                "hint": "",
                "default": 1.0
            },
            "temperature": {
                "description": "生成语音的随机性",
                "type": "float",
                "hint": "",
                "default": 1.0
            },
            "text_split_method": {
                "description": "切分文本的方法",
                "type": "string",
                "hint": "可选值：  `cut0`：不切分    `cut1`：四句一切   `cut2`：50字一切    `cut3`：按中文句号切    `cut4`：按英文句号切    `cut5`：按标点符号切",
                "options": [
                    "cut0",
                    "cut1",
                    "cut2",
                    "cut3",
                    "cut4",
                    "cut5"
                ],
                "default": "cut3"
            },
            "batch_size": {
                "description": "批处理大小",
                "type": "int",
                "hint": "",
                "slider": {
                    "min": 0,
                    "max": 5,
                    "step": 1
                },
                "default": 1
            },
            "batch_threshold": {
                "description": "批处理阈值",
                "type": "float",
                "hint": "",
                "slider": {
                    "min": 0,
                    "max": 1,
                    "step": 0.01
                },
                "default": 0.75
            },
            "split_bucket": {
                "description": "将文本分割成桶以便并行处理",
                "type": "bool",
                "hint": "",
                "default": true
            },
            "speed_factor": {
                "description": "语音播放速度",
                "type": "float",
                "hint": "1为原始语速",
                "slider": {
                    "min": 0.5,
                    "max": 2,
                    "step": 0.1
                },
                "default": 1
            },
            "fragment_interval": {
                "description": "语音片段之间的间隔时间",
                "type": "float",
                "hint": "",
                "slider": {
                    "min": 0.1,
                    "max": 1,
                    "step": 0.01
                },
                "default": 0.3
            },
            "streaming_mode": {
                "description": "启用流模式",
                "type": "bool",
                "hint": "",
                "default": false
            },
            "seed": {
                "description": "随机种子",
                "type": "int",
                "hint": "用于结果的可重复性",
                "default": -1
            },
            "parallel_infer": {
                "description": "并行执行推理",
                "type": "bool",
                "hint": "",
                "default": true
            },
            "repetition_penalty": {
                "description": "重复惩罚因子",
                "type": "float",
                "hint": "",
                "slider": {
                    "min": 0,
                    "max": 3,
                    "step": 0.01
                },
                "default": 1.35
            },
            "media_type": {
                "description": "输出媒体的类型",
                "type": "string",
                "hint": "建议用wav",
                "options": [
                    "wav",
                    "mp3",
                    "ogg"
                ],
                "default": "wav"
            }
        }
    },
    "emotions": {
        "description": "情绪配置",
        "type": "object",
        "hint": "根据关键词命中某情绪时，会用该情绪的参数覆盖默认参数，从而改变生成语音的语气",
        "items": {
            "gently": {
                "description": "【温柔地说】参数配置",
                "type": "object",
                "hint": "",
                "items": {
                    "ref_audio_path": {
                        "description": "参考音频文件路径",
                        "type": "string",
                        "hint": "支持绝对路径和相对路径，拼接时请使用“/”",
                        "default": "data/plugins/astrbot_plugin_GPT_SoVITS/default_audio/不要害怕，也不要哭了.wav"
                    },
                    "prompt_text": {
                        "description": "参考音频文本",
                        "type": "string",
                        "hint": "即音频中讲的是什么",
                        "default": "不要害怕，也不要哭了"
                    },
                    "prompt_lang": {
                        "description": "参考音频文本的语种",
                        "type": "string",
                        "hint": "默认为中文",
                        "default": "zh"
                    },
                    "speed_factor": {
                        "description": "语音播放速度",
                        "type": "float",
                        "hint": "1为原始语速",
                        "default": 1
                    },
                    "fragment_interval": {
                        "description": "语音片段之间的间隔时间",
                        "type": "float",
                        "hint": "间隔越短，语气越急促（单位：秒）",
                        "default": 0.7
                    },
                    "keywords": {
                        "description": "触发词此情绪的关键词",
                        "type": "list",
                        "hint": "用户发送的文本 或者 AI回答的文本中包含这些关键词时，使用此情绪合成语音",
                        "default": [
                            "温柔",
                            "深情"
                        ]
                    }
                }
            },
            "happily": {
                "description": "【开心地说】参数配置",
                "type": "object",
                "hint": "",
                "items": {
                    "ref_audio_path": {
                        "description": "参考音频文件路径",
                        "type": "string",
                        "hint": "支持绝对路径和相对路径，拼接时请使用“/”",
                        "default": "data/plugins/astrbot_plugin_GPT_SoVITS/default_audio/它好像在等另一只蕈兽_心情很好的样子.wav"
                    },
                    "prompt_text": {
                        "description": "参考音频文本",
                        "type": "string",
                        "hint": "影响语音合成的情绪",
                        "default": "它好像在等另一只蕈兽_心情很好的样子"
                    },
                    "prompt_lang": {
                        "description": "参考音频文本的语种",
                        "type": "string",
                        "hint": "默认为中文",
                        "default": "zh"
                    },
                    "speed_factor": {
                        "description": "语音播放速度",
                        "type": "float",
                        "hint": "1为原始语速",
                        "default": 1.1
                    },
                    "fragment_interval": {
                        "description": "语音片段之间的间隔时间",
                        "type": "float",
                        "hint": "间隔越短，语气越急促（单位：秒）",
                        "default": 0.3
                    },
                    "keywords": {
                        "description": "触发词此情绪的关键词",
                        "type": "list",
                        "hint": "用户发送的文本 或者 AI回答的文本中包含这些关键词时，使用此情绪合成语音",
                        "default": [
                            "开心",
                            "高兴"
                        ]
                    }
                }
            },
            "angrily": {
                "description": "【生气地说】参数配置",
                "type": "object",
                "hint": "",
                "items": {
                    "ref_audio_path": {
                        "description": "参考音频文件路径",
                        "type": "string",
                        "hint": "支持绝对路径和相对路径，拼接时请使用“/”",
                        "default": "data/plugins/astrbot_plugin_GPT_SoVITS/default_audio/你还会选择现在的位置吗？到那时，你觉得自己又会是什么呢.wav"
                    },
                    "prompt_text": {
                        "description": "参考音频文本",
                        "type": "string",
                        "hint": "即音频中讲的是什么",
                        "default": "你还会选择现在的位置吗？到那时，你觉得自己又会是什么呢"
                    },
                    "prompt_lang": {
                        "description": "参考音频文本的语种",
                        "type": "string",
                        "hint": "默认为中文",
                        "default": "zh"
                    },
                    "speed_factor": {
                        "description": "语音播放速度",
                        "type": "float",
                        "hint": "1为原始语速",
                        "default": 1.2
                    },
                    "fragment_interval": {
                        "description": "语音片段之间的间隔时间",
                        "type": "float",
                        "hint": "间隔越短，语气越急促（单位：秒）",
                        "default": 0.5
                    },
                    "keywords": {
                        "description": "触发词此情绪的关键词",
                        "type": "list",
                        "hint": "用户发送的文本 或者 AI回答的文本中包含这些关键词时，使用此情绪合成语音",
                        "default": [
                            "生气",
                            "哼",
                            "尼玛",
                            "妈",
                            "操",
                            "艹",
                            "逼",
                            "爹",
                            "玩意",
                            "滚",
                            "鸡巴",
                            "老子",
                            "屎",
                            "死"
                        ]
                    }
                }
            },
            "surprise": {
                "description": "【惊讶地说】参数配置",
                "type": "object",
                "hint": "",
                "items": {
                    "ref_audio_path": {
                        "description": "参考音频文件路径",
                        "type": "string",
                        "hint": "支持绝对路径和相对路径，拼接时请使用“/”",
                        "default": "data/plugins/astrbot_plugin_GPT_SoVITS/default_audio/就算是这样，也不至于直接碎掉啊，除非.wav"
                    },
                    "prompt_text": {
                        "description": "参考音频文本",
                        "type": "string",
                        "hint": "即音频中讲的是什么",
                        "default": "就算是这样，也不至于直接碎掉啊，除非"
                    },
                    "prompt_lang": {
                        "description": "参考音频文本的语种",
                        "type": "string",
                        "hint": "默认为中文",
                        "default": "zh"
                    },
                    "speed_factor": {
                        "description": "语音播放速度",
                        "type": "float",
                        "hint": "1为原始语速",
                        "default": 1
                    },
                    "fragment_interval": {
                        "description": "语音片段之间的间隔时间",
                        "type": "float",
                        "hint": "间隔越短，语气越急促（单位：秒）",
                        "default": 0.6
                    },
                    "keywords": {
                        "description": "触发词此情绪的关键词",
                        "type": "list",
                        "hint": "用户发送的文本 或者 AI回答的文本中包含这些关键词时，使用此情绪合成语音",
                        "default": [
                            "惊讶",
                            "啊"
                        ]
                    }
                }
            }
        }
    }
}